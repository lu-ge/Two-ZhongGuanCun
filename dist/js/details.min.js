"use strict";function _classCallCheck(i,n){if(!(i instanceof n))throw new TypeError("Cannot call a class as a function")}function _defineProperties(i,n){for(var s=0;s<n.length;s++){var a=n[s];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(i,a.key,a)}}function _createClass(i,n,s){return n&&_defineProperties(i.prototype,n),s&&_defineProperties(i,s),i}var str=decodeURIComponent(window.location.search),arr=str.substr(6,5),id=str.substr(12,3);$.get("../json/"+arr+".json",function(i){console.log(i);var s="";i.forEach(function(i){var n;i.id==id&&(n=i.img.split(","),s+='\n            <div class="pc-slide">\n                <div class="view">\n                    <div class="swiper-container swiper-container-horizontal" id="swiper-container">\n                        <a class="arrow-left" href="#"></a>\n                        <a class="arrow-right" href="#"></a>\n                        <div class="swiper-wrapper" style="transform: translate3d(-450px, 0px, 0px); transition-duration: 0ms;">\n                            <div class="swiper-slide swiper-slide-prev" style="width:450px;">\n                                <a href="#"\n                                    target="_blank"><img style="width:450px;" src="../img/'.concat(n[1],'.jpg" alt=""></a>\n                            </div>\n                            <div class="swiper-slide swiper-slide-active" style="width:450px;">\n                                <a href="#" style="display: block;"\n                                    target="_blank"><img style="width:450px;" src="../img/').concat(n[2],'.jpg" alt=""></a>\n                            </div>\n                            <div class="swiper-slide swiper-slide-next" style="width:450px;">\n                                <a href="#" style="display: block;"\n                                    target="_blank"><img style="width:450px;" src="../img/').concat(n[3],'.jpg" alt=""></a>\n                            </div>\n                            <div class="swiper-slide" style="width:450px;">\n                                <a href="#"\n                                    target="_blank"><img style="width:450px;" src="../img/').concat(n[4],'.jpg" alt=""></a>\n                            </div>\n                            <div class="swiper-slide" style="width:450px;">\n                                <a href="#"\n                                    target="_blank"><img style="width:450px;" src="../img/').concat(n[5],'.jpg" alt=""></a>\n                            </div>\n                            \n                        </div>\n                    </div>\n                </div>\n                <div class="preview">\n                    <a class="arrow-left" href="#"></a>\n                    <a class="arrow-right" href="#"></a>\n                    <div class="swiper-container swiper-container-horizontal">\n                        <div class="swiper-wrapper" style="transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;">\n                            <div class="swiper-slide swiper-slide-active">\n                                <img src="../img/').concat(n[1],'.jpg" alt="">\n                            </div>\n                            <div class="swiper-slide active-nav swiper-slide-next">\n                                <img src="../img/').concat(n[2],'.jpg" alt="">\n                            </div>\n                            <div class="swiper-slide">\n                                <img src="../img/').concat(n[3],'.jpg" alt="">\n                            </div>\n                            <div class="swiper-slide">\n                                <img src="../img/').concat(n[4],'.jpg" alt="">\n                            </div>\n                           \n                            <div class="swiper-slide slide5">\n                                <img src="../img/').concat(n[5],'.jpg" alt="">\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n            <div class="inform" id="').concat(i.id,'">\n\n                <div class="inform-name">').concat(i.goodName,'</div>\n                <div  class="inform-price">\n                    <span>价<span>格</span></span>\n                    <span>￥<span id="ite-pri">').concat(i.price,'</span></span>\n                </div>\n                <div class="inform-count"><span>价<span>格</span></span>\n                    <div class="inform-num">\n                        <p id="reduce">\n                            <img src="../img/jian.png" alt="">\n                        </p>\n                        <p>1</p>\n                        <p id="plus">\n                            <img src="../img/jia.png" alt="">\n                        </p>\n                    </div>\n                </div>\n                <div class="inform-btn">\n                    <p id="buy">加入购物车</p>\n                    <p id="src" style="display:none;">',"../img/".concat(n[0],".jpg"),"</p>\n                </div>\n            </div>\n        "))}),$(".det-content").html(s)});var Cart=function(){function i(){_classCallCheck(this,i),this.addEvent()}return _createClass(i,[{key:"addEvent",value:function(){$(".inform").delegate(".inform-btn #buy","click",function(i){var n=$(this).parent().parent().attr("id"),s=$(this).next().text(),a=$(this).parent().parent().first().text(),e=parseInt($(this).parent().prev().prev().find("#ite-pri").text());console.log(e);var t=$.cookie("carts")?$.cookie("carts"):"",r=convertStrToObj(t);n in r?r[n].num++:r[n]={name:a,src:s,price:e,num:1},$.cookie("carts",JSON.stringify(r),{expires:7,path:"/"}),alert("已添加购物车"),location.href="cart.html"})}}]),i}();