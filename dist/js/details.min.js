"use strict";function _classCallCheck(n,i){if(!(n instanceof i))throw new TypeError("Cannot call a class as a function")}function _defineProperties(n,i){for(var s=0;s<i.length;s++){var a=i[s];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(n,a.key,a)}}function _createClass(n,i,s){return i&&_defineProperties(n.prototype,i),s&&_defineProperties(n,s),n}var str=decodeURIComponent(window.location.search),arr=str.substr(6,5),id=str.substr(12,3);$.get("../json/"+arr+".json",function(n){console.log(n);var s="";n.forEach(function(n){var i;n.id==id&&(i=n.img.split(","),s+='\n            <div class="pc-slide">\n                <div class="view">\n                    <div class="swiper-container swiper-container-horizontal" id="swiper-container">\n                        <a class="arrow-left" href="#"></a>\n                        <a class="arrow-right" href="#"></a>\n                        <div class="swiper-wrapper" style="transform: translate3d(-450px, 0px, 0px); transition-duration: 0ms;">\n                            <div class="swiper-slide swiper-slide-prev" style="width:450px;">\n                                <a href="#"\n                                    target="_blank"><img style="width:450px;" src="../img/'.concat(i[1],'.jpg" alt=""></a>\n                            </div>\n                            <div class="swiper-slide swiper-slide-active" style="width:450px;">\n                                <a href="#" style="display: block;"\n                                    target="_blank"><img style="width:450px;" src="../img/').concat(i[2],'.jpg" alt=""></a>\n                            </div>\n                            <div class="swiper-slide swiper-slide-next" style="width:450px;">\n                                <a href="#" style="display: block;"\n                                    target="_blank"><img style="width:450px;" src="../img/').concat(i[3],'.jpg" alt=""></a>\n                            </div>\n                            <div class="swiper-slide" style="width:450px;">\n                                <a href="#"\n                                    target="_blank"><img style="width:450px;" src="../img/').concat(i[4],'.jpg" alt=""></a>\n                            </div>\n                            <div class="swiper-slide" style="width:450px;">\n                                <a href="#"\n                                    target="_blank"><img style="width:450px;" src="../img/').concat(i[5],'.jpg" alt=""></a>\n                            </div>\n                            \n                        </div>\n                    </div>\n                </div>\n                <div class="preview">\n                    <a class="arrow-left" href="#"></a>\n                    <a class="arrow-right" href="#"></a>\n                    <div class="swiper-container swiper-container-horizontal">\n                        <div class="swiper-wrapper" style="transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;">\n                            <div class="swiper-slide swiper-slide-active">\n                                <img src="../img/').concat(i[1],'.jpg" alt="">\n                            </div>\n                            <div class="swiper-slide active-nav swiper-slide-next">\n                                <img src="../img/').concat(i[2],'.jpg" alt="">\n                            </div>\n                            <div class="swiper-slide">\n                                <img src="../img/').concat(i[3],'.jpg" alt="">\n                            </div>\n                            <div class="swiper-slide">\n                                <img src="../img/').concat(i[4],'.jpg" alt="">\n                            </div>\n                           \n                            <div class="swiper-slide slide5">\n                                <img src="../img/').concat(i[5],'.jpg" alt="">\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n            <div class="inform" id="').concat(n.id,'">\n\n                <div class="inform-name">').concat(n.goodName,'</div>\n                <div  class="inform-price">\n                    <span>价<span>格</span></span>\n                    <span>￥<span id="ite-pri">').concat(n.price,'</span></span>\n                </div>\n                <div class="inform-count"><span>价<span>格</span></span>\n                    <div class="inform-num">\n                        <p id="reduce">\n                            <img src="../img/jian.png" alt="">\n                        </p>\n                        <p>1</p>\n                        <p id="plus">\n                            <img src="../img/jia.png" alt="">\n                        </p>\n                    </div>\n                </div>\n                <div class="inform-btn">\n                    <p id="buy">加入购物车</p>\n                    <p id="src" style="display:none;">',"../img/".concat(i[0],".jpg"),"</p>\n                </div>\n            </div>\n        "))}),$(".det-content").html(s)});var Cart=function(){function n(){_classCallCheck(this,n),this.addEvent()}return _createClass(n,[{key:"addEvent",value:function(){$(".inform").delegate(".inform-btn #buy","click",function(n){var i=$(this).parent().parent().attr("id"),s=$(this).next().text(),a=$(this).parent().parent().children(".inform-name").text(),e=parseInt($(this).parent().prev().prev().find("#ite-pri").text());console.log(a);var t=$.cookie("carts")?$.cookie("carts"):"",r=convertStrToObj(t);i in r?r[i].num++:r[i]={name:a,src:s,price:e,num:1},$.cookie("carts",JSON.stringify(r),{expires:7,path:"/"}),alert("已添加购物车"),location.href="cart.html"})}}]),n}();