"use strict";function _classCallCheck(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,n){for(var r=0;r<n.length;r++){var t=n[r];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,t.key,t)}}function _createClass(e,n,r){return n&&_defineProperties(e.prototype,n),r&&_defineProperties(e,r),e}var Login=function(){function e(){_classCallCheck(this,e),this.addEvent(),this.logEvent(),this.arr=[!1,!1],this.request()}return _createClass(e,[{key:"addEvent",value:function(){var n=this;$(".phone").on("blur",function(){var e=$(this).val();e?(/^1\d{10}$/.test(e)?n.arr[0]=!0:(alert("输入格式不正确"),n.arr[0]=!1),console.log(n.arr),$(".password").on("blur",function(){/^\d{5,10}$/.test($(this).val())?n.arr[1]=!0:(alert("密码格式不正确"),n.arr[1]=!1)})):alert("请输入手机号")})}},{key:"logEvent",value:function(){var a=this;$(".loginBtn").on("click",function(){if(console.log(a.arr),-1===a.arr.indexOf(!1)){var e=parseInt($(".phone").val()),n=$(".password").val(),r=$.cookie("registers")?$.cookie("registers"):"",t=convertStrToObj(r);if(console.log(t),e in t)return n===t[e]?(alert("登录成功"),void(location.href="../index.html")):void alert("密码错误");alert("用户名不存在,去注册")}})}},{key:"request",value:function(){$.ajax({type:"GET",url:"./php/index01.php",success:function(e){e=JSON.parse(e);var t="";$.each(e,function(e,n){console.log(e,n);var r='\n                    <li class="lins">\n                        <a href="#" class="product">\n                            <img src="'.concat(n.url,'" alt="">\n                            <p class="pro-name">').concat(n.title,'</p>\n                            <p class="pro-price">').concat(n.price,"</p>\n                        </a>\n                    </li>\n                    ");t+=r,$(".con-content-right").html(t)})}})}}]),e}();