"use strict";function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function _createClass(t,e,n){return e&&_defineProperties(t.prototype,e),n&&_defineProperties(t,n),t}var str=decodeURIComponent(window.location.search),s_str=str.substr(1),arr=s_str.split("=")[1];$.get("../json/"+arr+".json",function(t){console.log(t);var n="";t.forEach(function(t){var e=t.img.split(",")[0];n+='\n            <li class="lins">\n                <a href="details.html?jump=count&'.concat(t.id,'" id="').concat(t.id,'" class="image"><img src="../img/').concat(e,'.jpg" alt=""></a>\n                <div class="title">\n                    <a href="#">\n                        ').concat(t.goodName,'\n                    </a>\n                </div>\n                <div class="price-into">\n                    ￥<span>').concat(t.price,'</span>\n                    <div class="cart" id="buy"></div>\n                </div>\n            </li>\n                \n            ')}),$(".good-list").html(n)});var Cart=function(){function t(){_classCallCheck(this,t),this.addEvent()}return _createClass(t,[{key:"addEvent",value:function(){$(".good-list").delegate(".lins #buy","click",function(t){var e=$(this).parent().prev().prev().attr("id"),n=$(this).parent().prev().prev().children("img").attr("src"),r=$(this).parent().prev().children("a").text(),a=parseInt($(this).prev().text()),i=$.cookie("carts")?$.cookie("carts"):"",c=convertStrToObj(i);e in c?c[e].num++:c[e]={name:r,src:n,price:a,num:1},$.cookie("carts",JSON.stringify(c),{expires:7,path:"/"}),alert("已添加购物车"),location.href="cart.html"})}}]),t}();